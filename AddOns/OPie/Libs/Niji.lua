local lhc, lhcPal = {}, {} do
	local ht, hp = [=[20ƨN@ 2=*Бv)L[)| Hw"~[kyni)(JxEnH}(XXh%S7t6e/)ifiSe5z^'1[[%슏' t',_yKa%?$T\?9\71C{/y~Lׯo'Zd[T-er`BmWaQqb}QHa钁]S?:7֑5p2h֪Q^2ektףumiT=LpW߳Tq9LRt\haz=`]j+v'Pp#"$aqȡKC!_-3֎},nv &N^S3]*XcRl3lA	x 	JIVbod%;Q$PUGAN"8qڇYg*@$B+2H&	!b>eOo=`=z*c%Q֗bTB&v7g+d)UiZۄ5l}fƈzrx{ܧFm"\z}Uqu֫DqWf 4M X;ȶQw3{]z qB[)Zv.<ԟ-kWmfuRTu1*.XǞO1y1{)Wz$*/jN@X?42spe˔9\鐢g;T0UkmVϚg:/,MvE)[/h/.4FjHIthAĶWu"	۵9{)aQBQƠCxnOtMe;IxHv:2)>K#8P)۽<l2u%%Bkg$0qÃGÝ@BzvC>yDjrG{=w$\	\FHm>;QØw]zX\ṽyţ~,:N,{l)RD05̫IA씘Jlox7'ѬV~9ٯqGXڢ*g6_o<ˈE|ظaF"6!ѦĊolXnf-20غyL[va3C8:TJ	QMOrAnQ*xpڔ|?CU:L[Tro7sSR	규_tJ;Mvs2̑F~GJK88B0!Wx2I_S#TJ軂A<rМV`Hfnq!`|'P1E-w񻜂"Th>-REDew	oFWG:H.1Z	sRc6;FY-X"xSC#th]%:!NDULaIg^ǣ|8QؖƘ>+0k>ؙscp9=])場wT̞<5Op_}3d) 6}t8WsNlXpa-K(LL^*CwmW_"EʵemH\e#9B:uMd?H?Ne".l5]6{Xh7萐睉AhKI8:OL׆WЇQ/g5۷pD#7͋%|SNG,_ښxGO>#.#C>AH؟7ķp:1YK)t_{OЃs)Y*|y^Q.cublv)%=~S^H*%rV]NmozIkEրekxxpxqz,k@TYԘm=<(}mARǡ,_5]q_+TNgAm'Z%iu4..]n^ͬ,I7l5g-@/c_*z@*Pֱ2=vmVEEN\QkȐo#^uLA$h'o-f"yx{(fQ^91!do[w<H$*"8/b,tF޸9^zIלf@+PNAUEDk~c<wA~]ڠhA̤ܰVf	н+'HcۚaVe[҈)hj<=US<&ޜ;)AVUAJG}Y\	niL6`rbej4*-ZE.8[Cg祚Ke5uֿ[k,!9>2M8,'ir;p"vhyoRh\ʶEKp`91;)i7k|qWֳfɆdiW1X;WBJi)a{ccew}p#B(t>r&l1ꛔVWlNQ<M}#Ԗ\]U]~#͠&z<H$Ŧ93+1ce@ފ<(|@6󗳻RQlgF9Rn <cS勸nykČ7?͝tT,c?B=X߲^.mw&<]Zh{D^ޅnlF*ɫ	٣pE_^[Q<YXHwOii	1v8n)HTP#EeLU{ݩuslhBD2ԥ]PS`EqQioi[ڄ5S<\g&1~!y{F1ԴpsD?4ǵ~hAцc1i]1m#wup=)-wbb_d#\:f?a^ǀcbN,G]ݶLU.^I7X>9>̮[];3֊_X(,!:\PPniq܆:麨Yh%xKZ+BQR	Xǋj|C96kѝ}2qˇC_C/F\0+_wt,LdH=c/R4-7)4P?\a!zN=4"OgXRNV[l93lEYJЗ<ڤ?&7CF/N E@ݢSmܬ+9_.FV㮠X2\n.C,B-YM-Po{wF9#AkPzrhx9Uk>9bS>fDFeaH<hIPv4+GgstwP!a ~{ֈ}PGu*yh[y!m=5KAkA0E~=̵k0(i~P:Waʽ>C>tKrQ=%Z{CG{DfO˘A[ѯ(&?T̟:}ӵ|H!x4?^].N/'ER[ZMz2T%:[-*	x[QʜB#2'<U0w'O%{"Y5)x"h?MQq>8)Ocv=Q2f;/i-;>;IQp؏XGxfyWBoQo2-jL}"<궄M;ihvcB94E@@FHG)ao7*B"@Wss)tZJ,:;ēm^ΐgƴ˗pQY lyQ4npK%o@1˩v]z̛sc_,p1`bչOgVqjr[}ZZls:$_a4}GKf~B>t=t7uHI}9%,&K;*Ĥ:#nȇ_2b!3?Fb/O܄()("'|LDUt"ZE$hI1%wrgflrPĢc"}'{u?a<!-i܂"$_Ez&u%}#Gq:.+	4>HYGT\(".E>֓oMw M>{_Oy(y0CF]uvIC;(VODi}Hc{7ğO{E4'⺑i{%dDp+thv!BN{/%9$Hه9Ί?cdw#y˓B~v<ӧZN2'I3Ȍ!JK,OK̝%1Ys,9"J%%sqb3BO/LN|H"5Grw!ܕ3sKEhK)R\?ظˑDL#D=u;LNQ)[LD#btGOE}yJhr)a/?LuDwzOІ;/'g+!iu~1A%-G2)#u˗Ռ;>G.bݏLS(vM"tc0G#D󻖄D:_$fˤ<bC"dFTK |bs_RC:O#IgrP{DHQ'<H1'|䕥"|C:ȴCKDGГJ~G"IIt}JdpI^~$LVXb>}rþTa: LZ蚬A֏A#I-IHdД:qqakJ-yEv2g?rĈq2_M%OEd}7<Z??:O%܄yA"JȑLI%$'\'<%M A~L <CM#72ɲdyE:$Izǥ>_ރtqchq;ğ&>:"}9D%th$ޟ,޳I	}}	%ye q'$V!Q%B\GB!u"Q/<2_J<9IȇE\s䛯:d)7h_$##B_\s#"1'<e)C>dȣw9zyM'E[JDC2bS%TI4HCA(D|#QoA/yy]>ȶE	$ҷIqfJw^NtKw9H%!"I[B޹dğt5&aĥha,:ߏ9'G~'8d'ɖ]*=\Xl9y>:wЉcOxLS^s8茙RA$>Q'ܓl")CKE	1BP4BD9!ΗW)LrJ/ab1P.9#d.DNkK.?!Ђ!㐇8s"'?ImAv[7y)݄Q(c3bKxC*+a%d&Ei֋1Z"DRhE̽[ƷIɆ$YI$CJ\=b"pKҚ9l^z]5	WYH"R$LsCb^F}1s"s[JtS$b._5Di$K;ҷ?whYGhr^N=sՓY.ӝ1$Ⱥɉ0hJE%+$n#ЉIg{$Z҂:VCC!zc$hrUKRw=.ÈOt]	ť(f srUЗ	?d,KQX^_zӔT?etyE>}es{x8y&'bQ0wJ(W'}u'܇ȗz$Z"?R֝?.R9)0"	##B>'QJ䏸M~M<b/qK\YKOF?A4;{_2#!dЏN1Aߑe	't^#c)1DO3#dbdQAU,e~'G4 Y["Xr!;"-$CG$Jؒ9rq-L_R$;OK{'t2zr%<⸡LAؙ:NW:'[9'B=+]w1l	R5C?~M|Gɋcȱ#>.IG->I'ò6$W'w<1!=q>]iC&/%b}#3<R)	uoAGGش=rض8Mr܅DPt"_o\VtQr"mҎ$K!~$=2s^>w!y:	Es[V%ɔs%	D띌!r^OZq2|ElJHv'ϯDN	Az$s9\k4y#*M$9?42UI?ܗ-Ws܄1|H!F:%	{*r>>yBu'!Ϥ9"0::L~O|L~Dq?w$uBN3:u'sxrJ؄=(9Ľ[EOeYBN{sdF "سrv fs#&/N}$rDk_dCLbdgD~}u˺v%(DX^yI#?iz}s6}ȴJ-|ϡd'9Xu^t!R4Z>/E_CC?4"r?=IRV_#JoV-|#D^z,"F=<'#"Wde!/?9:QȉIl|v>#딢cDq%AMJDu2hD9a*<Ҏ/=^3kKzr8ˠrb.I'YR6I:fy,.0=qD焝t#HXG3a㊝;>d:.J"1c&>tHɳ;yDֶ$YJ"xOFRCd9"PJҹ8H$NbwOԏrY(>Sy`|f4">"x]R8%?A?!؄"(:JNG1vڤeܘ;9DtB$J$KCZ^J1$rvù}-R!/<_(cNs~XrDl/T9'"2yևstHqL?gq:!d!O"?Ⱥ(wu$~ELC򎼛?cr|tu|~O?ܒP$9?OsDA"笈Ab(drU$ٟQ[HK"L3׷;y"˙"ľGqy#"GG9s	#(J?JHCƿט">Z^+B{6r-YSq>HA9ǔuw:ef1n{?J/LGrXю:NyB~I;b-q$!AtKt*elJm=?j2WE|EtCK%ȝ,KیAIB2':|d-"DC9՗L|b(B1=>L9,_:	I8^Kn҇+ǝgȕ:̈́NGtNzȘg{K?"%$#Sa!ϓ6t9tE;sD,\H_~uyz832[{vwUbHiy8:NI92]ꏹuܲ=!$A}$BHJ\3qODϤ?9IC2s6zDa:B~ˤ!$xyoBXqص?LЋ*F/?ϴ:2!"_$܄kInrHnCI}{V1A>B8|G[7;競d3$/^FGҴEa&őfviG2e$+$v%+E~&s9hK/db?A.a$'E9mxJE?$Lq2x$#?2)"|wB9Ҕz?ğbÝ	!3$i!/BN.O'Thb"$a#aDG"x|NUyEb͈7,	21g>䝔缟>|z	,=#~'⓮atZh=Ж($8YiI[!f:Ev2hDNR A蟑ӡ?>#"OC#eb/,:fG\#FFO9pDKCi%Y/d!+hB\%1w,Ð=ˡa?~UA")sOKsԤC:$]DHܟO~'D^LBlǡ9bD9~s$n<eF.Gy!؏([u&dJܟARQLDZ(smB%GH<q)"$OH	)tw΅"YsI%_'<G#!*9ޘKv!hDbG^(bG~'\nuĭI$N[Z#csҲgoM?#9>Ĉ9Gb֗-Bak=SF!?(_"H㼒w;IHaЇ!t8%A/'^+>0+#M&ujL9l:H}tɔDaW]$r|Ev=dNƷ}	̈́{ң>%DPYܟK3۰AgvI!r`%v '"-Pr~OևHa>Ndu|:[һ~'⇱4:>݇v>qb'q$% ZND-8N'2!,>'#&C>z99?BӢ.swZ#Փ$EAD_B꜌?V%'9>^Kdӡ3E9!B|sբg+soVWKsגHwDIY>9"&60!M?;,Ј>ĉds܈T.#%̷>2#ϥ\S)0B%0髈a'/|Jε<Wk9G܅	\#CII{:D>^9Bb2[;Evϱ,,;gK#'ĉיG$FR'Ŕtcrv<WR.2ė$I5|YG:'"sIz2!d	?A0Ei:5N"l"RLO{6e"3[;9;KF'f9IΆP#$"RGoB^<J(G=/'T96 :C?)"TG4ĭ]9#9.9>:$`1ꑊPDJ:v}smjñgB2II%$e)1ċ|>w?wg:~"HssϡtJ-:y#Z>ˮ/z!6K?c>q	lN0%dĄQw/[ꡗrD'Z5o92OE#Z>tQ,zĝ·1I7"2zSw˚H:QB9+#}S&%?KЏ9KC"COsE9bȻT4\_:OtRq℡2b.1DD7nrS5cΉ~8s"D=(<"Mw$$F$Sĕ3 :S!"R$I>D);t:~R$V$ㄽq'3q#6"DiEhB\hI}Ry	r}r$t`9'e>$vH">N=V(:i!KJOKqy|Ĉ0"V+JC?_w8#v!<tu}O8LNI	Y>MDC!.$!,D\:>g%sϡس8A%yǥH'͒$y99LNmdb"}c>}nDM+[*9zy+[Od^I:(RtNGgMLzЌK["f=)!L!.r'G	9B=!v<S"ȏeGV%PsJ[T%awE|U]̥:$8"Xo乸BigR:DdQ}:$K/EP'.B%6҇$\BJ(_Ҕ%ZIR_"FX[>&7Aߛ4:8GߤJX(B2gC؃}^?8MCqw:.yZhYB\~aOĜDP;trzv3'!?J,9yisIsgs	DdB>B=DCJȜ܄9CulDIkt4}ssLLޏ,ϒI	;H>tOΓ!o=rOз,?ŐA$ w7}}g*g܃ڑD/b$;Bx"%wI"Z$b$B)''w}K7]"v?#?lhy'J!I'GCkI6q[Fn$zPţMDYɐ"MOuA΄Aǭӥ9#!I"2zܷ='=O1tqvExsBI~B-,qm'7$َZVĭsr'KĭJHi"cIO$Coχ1YGg[	&̣L?rM>B$;UwI"1~_:Jy˒b$aВ}CYGz>fU+!;:rP柟y59vH[Y">%I?c%$=$%N目:4?g%'dj#l!E.<-b"$'z=CB:'8$؉?':QF#KZX!AO;Cw"9LIk{LUd$bJwUǉΖ#H1-MH#xy>ED^!o;寯E?3ԌtJ1o;I"?΄#h)H"IE($שH=u/WcHwGiIG	,eO/Ob^b3'5|L=ϡ!3+qGSR]A%:?aYdD\I%na:MB,[s!$|Jȼ~o;J^'$҉b͒AHN,[90G2G#=i1"|H1:vYs,ؑ;-lYZxIr|&9&JH[I+k;2H~Jķވ	욞oO#'""D\Oa=.Y52;/JBPۑ#q$L,e><$-AH̑sN!?619|3?ܟyΏ9F2&Rq"_FPNF#<>yI,ɖaW{2HJc%b%<ʒtS<H#$^ErJ91εГ0:K	;>w<t֟>A&IR['4K惽dȄbO'ZE}REI?rMDQFPBޓ~A>tQz	&|B>ыttfRqB~"jxCNf7J⃢:dRB;!MhC},#r(RqQ}yğYc&Hd.{ǼYB,sДaK3cג Y	gEF~FIC/y9OEb#'k:.t,3'L4n	$v?dh qC\i"!4A2/C_;G&D|Hߺe"~)(C܆%\C[G's/]%ǚ/3y/%Jܖo;$b!T/"~w<LEөy=Q$#!2!~'g"JDOK\;It!L֕JOAȖ}tGM*H"DLO+9*C;àYIt9s(˭$bYdrHw8[?Z){+PR7IQ,tCܖBԫ(Gg9{Q2t|!Y-Y#c(B֕b~+9(ȿ_bs?G֘bwćIH,7Or~A>NI)?J-hA,QM+DIz	sȖ;Q9/"?g[#$Tˣ*IȕM	DMg(_xz*n}dF~|Iv_}nҲ"'Oce%:#>r}uAV!KthsyOc":I&Bw![#'x!7lq&G!hq?7 Za1IEJRC3#	,kA^?d3!kaj<bvYA|HAw9:GiDv=I>ϱ<rvFIӖL\y✰r1$3=C?#2ť'<ͥS&0{s(:t|;\wȌ!u2L'䄠CٝY֟̋LYRb΃"&rq/9m/'L?YI>tar0GtND{!Z:?'I3)7|l32"ǹ,I9ĥoWHXCwl8YKYȏ=aӝBPT;gdNKAb5W-.߱ȟ<^.a>%	XZqޏ&0<;$MK<&NX^$YlSII7|J	#YoZPԋkΏJ()EY$"җleD<DYu^l!\Kbr.OcBEy&IaRDA"d>N"|ܚYȷ=$t~O%J>t=hr!!%)>r-;$?_ɯMt#GPHK]yEԌc"JA>D؈?u)ľ"<JF:v"/dr:2o!鳘:/ٴ|B}bIBJ̉V9:g_=Dvo-βGC"Dr!%qjF=܈(Yy+r>DOy	Ew2Ha"}9	$SD,vNINNօ\źg:_hJdP"RĒl˲"^qӘ~9{QG'쟾NMvQH:sAЏIBUNA"CKxig*nNqEbd圑Nl} E1:B>ӏ֗mӒuC"#㜉)=Yy1z-yLGĳ\I,r0<ŜOlBV-;ňGEi;sH؇CD"D!Dg:I=.bH(z{/G$<c9=yBL#ȟ\t?r#"Δ$NEȏ;HZhu	2}<O]Bb/cCHMLy;QF	l8y-8ΒPDM8*">1"ƢI.[Vky)'D/\ϦN9TG vFIW"vDktP|9#])sx+޿=vs%ZLK#3zElȬ$NB\̈,JJ$c0!OHrNva缉J	IwgD>^"݌1/9y)&2qtf2Is+_o[އ̋5H;G$aJL?>,DE}.$EbЕB#:!L]ȵgZ+HGI&NJ?D}t/AёI/DGJ5_HnD:J''$V=?v	IPaG:(F';hBfF=y,DpF,_Y-z챗Byu'RJN-^th:9M[:h}cG~7Y"th{wVdWD!w,̒FJ_+Ou%[~w;/bb2AĤ=NUGDrJ;<ʼ޸ˢ㸑N~9us<PEA(C]ѓ"DnzPdhgrf'z>C1EW)3A"$9r"YXF,D!	}ϒNu	EWF9J	|0DIε'rJ(~T:#򄞱!}tB$[9ǳR-F"D\ǝR9:11O\tDrD=S5hAG%YL/K$"HIK.r4F2#_W"Mȋ?#q2gJN9~:^y1GiMcHK!4︄Zt惹r>؇$Z^sZ#;hcBgfeadD?߰BP琎|DF'Ksn{$-Ǌ	#!$Ys̎$!)=~^IABXfz~rqh>X,rЃOH!w!ֿ̎|/~}1OAHP+uX%4>"?AD;D*_EBN-rc%D"I$̮nJ	_	QrG-'O$tsw-9*lD~γ%K=q֏$z.4G؟#{&ֳ%s9#ˣ19dst>N_rOwִ.wnI?d B'Y4LH>,DhCjs+(J"#:1IؓD~R{KNY$K(9r-,#%DuwPɒ?i_i<N$;FI"pz4ds9a뭴DqBU#w;'=aC>K1sLlD[D9DRdIDKȴ]4-}'ZF+MI&LDqsDNyL9Y2-KJHZIRGЇ9esg 9O嬉F]ÞZH!)")EzQ	bdDHZJ<$"s;!srC&>{GIG伽KX	I;C/('ο:fB9'B=a_tIYr8Bҹi˦H%	Br^握I:N/NBx,ѵΑΏ"DҽĎDcGds"};$*Ē~ͯC!t7e$DA-\Yr{}eA}zmA!#:$PIb$&<J"K&#B~a˯q3]=], [[M&  MB MLWMLLyLLML&LL­]]
	local by, FQID = ht.byte, GetFileIDFromPath
	for i=1,#hp do lhcPal[i] = by(hp, i) ~= 2 and by(hp, i)/255 or nil end
	setmetatable(lhc, {__index=function(t, k)
		local tk, v, s, r, a, b, c, d, e = type(k)
		c = tk == "string" and FQID(k)
		if c or tk == "number" then
			c = ((c or k) * 65521) % 268435399
		elseif tk == "string" then
			s, c = k:match("[^/\\]*$"):lower():gsub("%.blp$", ""), 8388593
			d = #s
			for i=1,d+1,2 do
				a, b = by(s, i, i+1)
				c = (c * 4093 + (a or d) * 2179504469 + (b or d) * 65521) % 268435399
			end
		end
		if c then
			a = 2*(((c * 64800) % 2147483629) % 2053)
			a, b = by(ht, a+1, a+2)
			v = ((c * (a*256+b) + 64800) % 2147483629) % 20047
			v, r = 4107 + (v - v % 8)*5/8, v % 8
			a, b, c, d, e = by(ht, v, v + 4)
			v = a * 4294967296 + b * 16777216 + c * 65536 + d * 256 + e
			v = ((v - v % 32^r) / 32^r % 32) * 3 - 2
		end
		t[k or false] = lhcPal[v] and v or -3
		return t[k or false]
	end})
end

local Niji, _, T = {_tex=lhc, _palette=lhcPal}, ...
function Niji.GetIconColor(texturePath, r,g,b)
	local li = lhc[texturePath] or -3
	return lhcPal[li] or r, lhcPal[li+1] or g, lhcPal[li+2] or b
end
T.Niji = Niji