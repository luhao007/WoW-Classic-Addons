local lhc, lhcPal = {}, {} do
	local ht, hp = [=[/h@YbCTY"w<U!rGkO]%$`a-VÁ{OJBSQ~>"A׫Ʈ7}5cGih_PTHe,)6oZ4mŰ{w&V}K" h{72bڏ3=0֭xP8S>8+fB4J[J:*	ū4Q+	tx3a+ǐ)I27ܦyI;<OxXC/5(Qs.];35lAm2ZfC^Uɪ=;1Z)ߜ`fJ7T>ۏio\a@[|δ67~ycGJIYU8eX:c.Yc;*ТL;p 1GĈrPNmA_rc9p .kݸ"}${'=&/%]Р2ΈHj۔me)4QZ_'_Kq0+{mHOлyVȞLY]&L4B7NuHe;NFFsSOS6O17P0i$r#E:i`Ad]Y蓦Jȷ"u[A2em&R8,6ƼZyob65|\A.B6-v:_B:4"..FqP؇wc<'>Ml3he0<Ү!(+[wcŋP|b,ϱCzC#H5߃F& Qv4%$,4mmys}L"whk-R1&(='n$5?y=	g¨i25q׸Zt>dOԌB\W:;2'5:iM}c[z%L,7Pϔ4fa[΃	o8!o10^iIJ_EeLqZ@T+<eh)Po%,0O'mm>} k%	?Bo%c{@y|g8hxƨ1vl+:2}_/&U^[?4 s0,.nUJhȃ-UZ]6oP	F$ЕhVBևtR>pVc+2w(#؉J*fvF/dpq/ү`>~G|QeEưTkMakZ,Aʊ<3ņ-T%}:|x8[4WaVGPZciS_(/D}!K:qlKDzTw*(_.`藺h)9Vo^t`5>[iCӼ#<ׁ|xc[*W)>fo^ʏK[hkK)ϵ<NizϿu4W	c:6>_!%j&nuB	6\^klA*ǅ0<xL	i_Kz,Uk'sU_T1?`c94#i'ի9vg9&C9FqdBnSSPb6&@{c/Fk֛-~m,q',8h=*1jmcRP]r9@WPĀ:/eA;E ~~5{UNSZ,WO#V	Z"v󖋉$ՕB92LF( sYt-7{I+ fI-Sشe'4\k;MGt`8Mʵ8ˣO}7X'n%,yI77-D2{Gfs~WW	*x'm٧/4[_Ulq;r}Prk{ZDB11_޹x/كJ'=fj6ͮV(0~4Yw:|V?_JF*ߚ[ty\%.FN+jUB#OLe	Qk^\}@қd.7m?xJIC۞\7R!-cFH^]Qyى+¥7;%ehP,LeۅK<с:8`AD jjģvLUAF<B+5ʴSsOHϪ	e]wTEHoO=t֌!wAd I*n:[ڤXNf^jpae}i8,)@ΫuE(o]^4DQ5GkX+oR%Q~+Dv3	*jW<a(4QE?5va5C:E <1(3\՗8.DTMo2Ũ&v&B{`vk)WKpu6I1 4MeHU/E$W	=Va2Bl-"a F?"st2BeXm|pF?3QDΟK),x=	o`l\ЌƲ>ٵy/:dxkƑ"}odDpKd@IS7},+nGRSstwq xK~;c!;;*AD;=jHNתB 3%p.oyssRrGIk1r@xTIGp/Fx{:}aǫ??a4m}Y*|g[@7xuy(tu^T,esA,"LAoKN	-0f;g)9@RXCWM=S>϶"k?-4bᲞVZ3ԥ%(~ˡ'nkͥ"	ӝAg"^|igO凌&c~ш o^{ (NZwxd(JD4ӟ>r8q+!@5)`ojdwI/AIFn،TʁBO4	~@z<W_b@Ts,83FAzY̕@x'FxBOi=M?;ADDXv\mqdj_mӊ!r^Vșpsg?GrLAT~iwC&TPM%S%QOQMǉז,{4(@'*i<ܢT:larMwL&d$9=3gCY{^	6[Su -q{ϼ&4e}me=ysƌH9IYX."#&fЯdtP1ƵBeU&TMyjĞ"b!JJ-IG#xTu&drPf4l@ps|"i+Zv*3840m䋆*fpł\e&C/cmmםzUY<TLۡUZh;}x#-gȽTCF@VaúP%n<ΊW<ɮ:"oD˜p!\03Ax Sa1e<Sx̟g3ֿɅu9Vy&ސ快نo7{\-2:ɱ-^'%U4OP}Jt[ +h^d9;pL	pX!6VڭcGǴY6-u'O%/1Y/z\gO82ɶʷ=RCħlxKEF1&]]#]'<I<Xg|Fz/?~R}QqهK{D`FXkcWh>xm5&2C;'8Nk<owF<]S_Kg(9QU`㓋W1r	[y*^eԪ,<V8V/2!)m\^Vd*+DkԿ|/1厢'L"h(lLI(SXg\t6[j	ѓ;+|[V!8x]KiTiqؔEaEzQۭ;' &]W#p/0M5V1af[V*mTTWzptLw/:Kˤr'djY\KxG`#^t,2[T/'$#wuj9	ˉ2iuVpZqS._Xޡ&󉢏N\tGgi>a-&Zy4cV*'{xe+%>qw=?w~L-i䜺.t)MhƂ}\Xo=5zg!5FNGtx4JCkG)AmL^0+dtM_W7T1`()N0[%]>MN=_V82%AӤY@'Fm/b|DF"KV0Rg9]$TҊi;2-ZP"y6@5!I<҃|7(ƵUfncZ*@qvڨt7G@=t[0q3꫔Pz/q=x^$HKcQV.<bl<5y|z"!.M!?R]CP?92Qvh$owDS0i%ȥHI[:ˠ:\:J2R	]J7Jev06c_v(jWLhZjXgCiAGeaD{xƺ6}q"=i6/2pC:!ѻ炬svh6TU,f`8`+ʋ`bzW)le_7ܜXkC[=r$euf],(#ȌY'a}]/fӴ%	+gAgP^(I!O}uȠnóo5ܻ[I24E[Hx}05)VHVAsN]N<M5NQ:A),du<8x7@W9Edu|3,-5	%q8{?CHR8t]2Z36P.$ &|aoaΩ5ɉOnTS޻pRÍD硫r/'SٸLRѴEX&ح2UU2ErDΰDZVȜ,Xϥ_h!T]jvCnG")'<Ps7Z@$@<R	iVQD1PJ2b#I`H#6lON߄$Xjjq:/[=Fz^7JnuTW@<WJV(٠1ԴSJn}||2혹wł;ӏcӒmߤJ3\J2&Uȭ8H3~qJzQ,&JnYC8$oNCJ^c")FZ}}0DUٝ?mX=1ю"I	hX:9Mg}!N	tyJAJ,!;	2ÖB@}b7e}k!S;-7=`8wN}F4{tק	)1w_R4>ЩS	^Lɏ}ckʉA*k&qV:戎kDd cNGtf/%ӹɡ2ҡe\$qNsWq{Ć1	s'Ott~qM)W;>ilpo,:t\/N<@@Ù]*JHDv:Y;$9䴝zbzч'Hb#(IQ^brVxsi=LLމ$rPSy=δ"LA_Agc"A܉cie,NdroCJ:u%QJ!	:ҖFs'bHuAYNLrM1KA.o껠uWI%Mz.LPFUңit䠇=4^rPcs'<^2'cH#T)!7ɞZN(G995!"G؋sU:e-ь_JYEuċyOdHċ%%s%G#g0Ҕ^(r)>CΌ=2Hw&0K4{Y};D$ˊPĜ$RGE*DBG9b7đB}%iM"EERy˒yD^D޴!1sȽcЄIx$rf[EĎE	9BZJ0B%H$9)>4sC,Jrϻyy#z	H{H~E3u<N&$wVGLE{dd}оT|~nq$vr aĈLuKJ(uIU	OIrJ)'IصȎeĝ#79!jl&>RF-+qtrI&oIsHA'C1ě:˳듢?]~0b#)d(=Qx1cu=K""t̖'d҄9gEQ+1eDQ"PyʩA)a$(%o.<JDIQ)!ĒdN;b"tΨ?G$#zr#)D9.dI\ȾznDu;HMHA2#󔈅r-ȹKyII<Gqwh!rFO="(+r1>ͭ؜y-	M#"q9z=zܘ(e}q/;>-aF8O"$EkICFLIɅ()A&n+;7;+īH͘%:P%́H5$"W9Ҍ:BE(8O7<}0DKW9%·ȄɋKЅ/ӫ̜"24EtBCCYqy씬9b}'sZy&zNG%{:IY'qM_F.v]OT,"z6}"LI\9Iew(r($=oMAz^igCг{sÝq"dtEw"(A\yJr3{2,O4tDB\nC:;F"#>D>K9$z$W1/ȷa :Xv/<R|%Y=rCK-ԙ/As<ȇGd/9#9!)GI[/Ζ,#Di2e*rI:C'zMlQB-˫!&,*t5'9p!4s˝"Nq[Ί.'AO|t/qAMΗL"B4EЇq(E(s0F:C{TQrzaNB^^2{(YwA,ǜcJcT="sM""󠗗Ț5n{N,YPywtcrerXG2:34A('Da,dMiu"Q|DJdJ^%KO?9E&ڜ95'#H	;#+Ds$EΘgI(B!2:G%xc'EDW,\;Y?IȲ	l	[ЗrerLOJ-R"Z&E;QȽ.uVcEđh?蓢䌣7G#|}^t"L^ICѓȋIR9;ևND4I:B8Vv0r&\t$r2PrH9w0DcKl!ȉ8zKIчȭQ'U!h:1kOJ%tQb$X&s$PhNxgb(ȥ#	m#}C;ɷy^Da.cÝߑt9<rE6gJHJ]_>F:Sc1+CѝC˽gK>L܄1.g~tdL#(EJp^rmc8$IRdVcc$n&4_#F#j&.ef㼈ɔLWLSIzQmLLq/{',|ДNy$I""aCqIˢuzX$Uv'Dm,r-/#tJ V{Dr1.H_G4$GeZ(|0{&Hq]o?dtMr˺v%DCޙ:!yd9üpU:ʴG$/isFJA 'xtbIHy)Iq,r|C><΂9BhCǃȲ|#DPLMr#+Bxo#Y4"%983ZH!n"Nh"Oq]ND!KZec!SGvGi!Ir"0V9bPs4t1~Ck"E>1B)>>L+f,3ĬLv̰E̎CLb$:}R幇{tKLHz%K:gLGf"IKǥ/DNDa.hBH{SJuӭIȄŋA/HAJJeZ	bQ#aCA#9'd8$H+ĄIIJ9.ϡ,En^^bbK-WIIC%hAIzP޻$Yb	'{!A&g"YwrA?8+9W(BHEQ%wt{,&ĸN(!Qw-.BD.[7LocF!:QFw"hr(E9"H:&%؂\yd2GԎ9iZE:;IgMd/I;ɠEDHd?B2s9whI896;gbH_,eO4<Z$C'η-xrCK>ZPL|F$E/jy-$!Dsz([	i>oY֛S1j$&$c,K_D<Bi?壠}n$CT㉴l{럧B3zZOsEdt:N%~7swBf0$\OHJ^(ڦ.BPB"?E?~OtD_weG925Dȼ;Z3ɢhyȊH,A#C!:V=	]찎="̇u[r.Q#(wBaZCv !#uJ>PthFP#P"x!兒kq7#k[(%>8sENw%]GSW#q<YcaCSM*IM/!(Lb/!&A"JIz1|ДɄM.#Cb^I;B~h((֋ΆbCiZ_dGJ]JIRDRH!0u3򽐴gf9A?E'b*N{}	"^FHREb5,?W&HkaC9090!Lhd'Mwȗ$y	O)^c//BW-nzrw:I"4NXe.j+Z҉CF2/2:GtqW(Lw"Rʒt1!]7Ltz\{>G!9II9tLA1cse&H_z#.>I'.'	c(F&(~zY]1v:bȄQ$2kgW%?#z[Ďzd1雦}E(u]lF"K%uB"obnrG^,JsV!J͕b_h)5c(yhd9(J	؉>#dΆܟÜ1<iZ1$4o[:4!1b$J9C0]ĥ_!	:	2D"w$\^>.;3rF8ef2uK"b\AXaCAdH=qץdBN!ЄwK'C6/#< ;ޗYsՈW>#:ЇC!%#ڙadgCAM?cMw;b"%Ժ>Q\X&B-H9h:OE$y%bQGPBD"$rm:b};襖FQ!q$x%HP3'q$D-Y)(Mҏ	J%u	#H"Nڌ;[L:ܼL2'JB]BEFV#ߡE$r2((!dZlЄa'#I&B-}#-Q<tdطbw-LND9%.Al&Lr/"Hmr><C"0c#F%kYҋ%2txyΚHrt<:Hzf!(CȠs#:З!ߞr.<R#Qz3y63[J"YkZeb!/yd4\1bfM춄h"d"UI?C^IOM=8DY?{	a	^~x[ǜe)J/][y(.Ay_5)!v s>J3/XY5Cعds#U9Ӓ%{L&͈]7CH[b%kCy:]ZreBҴ0b3"Y%̱%^ZɒR>ȋ,&0z#G"jŎ;Fo98aȭcJCU"B%vYgBâAbH$vB1	rQ4$Ŝ%H8'^>y&2HCd^t)Li#|,!Tb91!"$BX;YֆgBMd<HH$MDy2+f\>+IM%<PsdhIqB8#}g'Fh;IY9Q(ĞE(I$QdbG-;T2F}dHǑ'*Eǌg䗬QtHB=?$prQ')B"yb9O۲=$#,K-<fFE/4$<jwܿZ2 Ze$IJ)tdhCz9&NI#1O#Gb"փQ'XǻBOK:B=<ܻv!ȇ$rODUg!ILirE)|`JWSĒ"dɑhO}(;t0⏹ې"Gމ;CM!ӖwUI=,:.EL<y̋C%:2fP'#.ǚe{G"?"4$R^xECz!r8rqIâh:зL<T!'=^/.:4wHKyRB=BVRuy[#≹A2ǽ'zҌPw#6<B]?Q"9:^E$?d5Juˬ.y|bvDng]&}7"I	,Dv%Κ-BYkB	KY1{Ǥ$ȷI/q2z),"!$Ey1!dQd!Ad:T(sT1Zyh̇=/W,:ED9K׳(ӮSO懝sϜ/I#+&N!A7=baZt<M8VLBI.ÜQɦAr8àBgadf$K̬fDM\NIh=*{"Is{B$y#y E A伉%ƏA褑<b8#'t"a%929Zr!(:e$wA	s")Es蒧I&=% Ћ䗋8P]샦IZ^$,V5a"$"hh_A֔BN]VNMa=1:eg!C,K.HZ	#hKփduAL;!|Xv<BYkOIE	wO#{4tjHwu䙑"/z6.htָNXs!89$E%ʨ}ȥuHoF19ϱX|JI[8DcDPdyr&V#Zb2G9<E6NY~B=7KYA"}rddG󓶘NVA'wܔz~Jaյ^(.yJ9/Y&"ӯ9"$DΘIb1vuzK"yJ9VIOa.S$v""z,#FI"ug~\rLB[,K::.C#xCG-|yDtXuLv݇:{䮕>_=BT(+cRM;"2"B2N-%JI{ִt-i<Qal'lh\\ElK$}Kl;vt{B-ĢOb/Y(IdFS'sy.)GC,sE7/GK9`,I$"iMȊCGHK)JO%yrW=g1􎉑:tAǯGZnȽS|i=JG|IՐtq!V#ud9xh*þHM:OϊkJ5^*?Uc֟k>J9s#$$l#FN89bjBE/A:ER{.O:MCā^VH=H:u2;,{(ϝR:Nr<bV>^;dC)iY֮%&.4EREy;Er&5&)"|!ч#ݎdstVuM>txu%^ȃI1dOyF{JxO&NKV\náqh[s(J4ŸbJ#Z	g}b2yQd=nD\|xB˧yw$,DY,;E]~bɄzdPv:$'"͈.,C"RDbUDnr<Й=cb(:$ɑqx)ҷcPE<;Fnw+=鄜c4f&%<L&QqtB|ftsb$\!Y4(bH&phI9daF:Ίhy&rYK*Qn\ns"XI+d<{EoYG=畘s+c*鋮RSq؄98YɂFT&X8cϗDX1$t9ZRE)ɺ,vVdƌ9_q=?.Bð$>,D>s"JH狿T8!BQG=IK9ȈCà;!:"a!db"B2(ttB2dz9t IgAω%Γlőtlg#EgWv؃ά-v<DO'u\SW.a9wЄ=D{"/'CGr%J-?wӉ)D?.;tM>F!iOEt\1|\tROf/\I3BȄJ94:Ϣ8",s'"zrb~>I!!'t2u:8!#;1v=#g_JNw=Ik9"24[:1<YIka4$J!ΖID"GjRLs;s/I*ĬbSfdhcx4]"9àN!;C!{*D&1$u5.:asrB:4;wPYеɏK""T9*DxFD$QH㾉҃&Q#yfHiS4DRQsr"obOCsHJGY3,L!&uJUyJqCΊndVB!	]sg{[h_.be2|%'FIǋ-<]2O_">b",rd$u.9{ZbJAl'J^gK(,ӈ:\$\PJɊ;!<uf,9U/fHV"eӧgΉ#ĎQJ>ITLBFd%"?QGZdtXidJ&;"D9%`	tbBIDOD,OC+"b$!#?:QHoB㼈å盟s͈HEzNMZu=(uo_R\&Z<78Dm7$Khu9'd~1,qˡ!"LΆIq)"&C$8[$.y䳹4~ВfGBK'r& !ȃ%%$Hrtqβp琏W/I]'ugY$ \e2#؏^<1	=-!KH?ҏo#(saEJBi}&ϢbA9"qa.[:|}K$H"NJ"f8!>NK'҇!J2J89+ғrá="ϖD~z$#tz4]R!'Jss2Җ"P)\#(cnAr"^re{K:R2htTy$wГJ<A޷%.rD%hcwdsPyD>{)JMMطe9_Η?$d#cȄBI3vUHT:	EO-2Zz=EGH[&8bIuND;w<-:1'Yܙ=f$t!*tC>dM(S]\IҒtFoOgJDvl$v/^q"i:hn!xMRF^Nؽ{{Q"dw8D!1)duȇb2%AX<t{9[BHtL	D7^80:$I.NJbD鶏9ZVm:Pr!	"3&#"H]&=dDd9"䅲4E>B$\Β9MsB](c;2$X9	$"Fqdt}(؇aCB^}M^ȠDrZ^DQdMt2491hI:\GA)	H=đu\I*%h)"GкH~iB:\D?><N"H$N3̒%~{s;^GJXzW"OR{-uX::?H<B%ve!u9ք%ɹC"MYKZhIdf!SKtIq1;r!=k /)t|r$:jvp9hq"b1쐛IzYuc̱"HJܔ!DGH*^rĄNc7$Mŏis-]zv-yރE(HB$B%93E'#Q(ty2:sr}G;SB#蕬d\!ϑaD̈q1ĉJ,t!de#.?ܜg+DJ9"҇?b_'c3dYYӴztIv+Z)8=e"1?<J΂ g/.r&1Z'I+DMDb?ZI%vy<xK8M9:ñ+}"M/H'й9dI֛-G$C	;tk>Zl$+[G\CψZN='8#GHI;kQ'AM=sJ'EM_#9$ΆN)#ykCb*v-)atJNbY9<I$D2!$x9Zp}{o'PF6͌#EqK0<c'm?C;奏!ıi$9!"G?Ջ#FXt!;عINѲ,<L$t8\-'rӉ]:%4Ekt=Dncȑs0Y/AҖk!$Xش$K-ƑVU!h"%ӋazZIzI<zmqJbh̄_K;skb&M?h%hB1asĉCZwdb_u^Cň둄&C!֘:0v9:r=!LC,>Weoruִb=u*D':ͼfsþ2eVZe$1!ܒ7|j!;xn=^$CDBDt-C8Zb%;a؆#G=Nb\ؚI.Cs$?h"4-h:"-N2)?RBH/9׳92nC=>G>%t1Ry;9vMqܗKuyN#1i;QIcsF:L3$e҃O}Pw8UkAgsH1X.<EIBDKF^	$f#G;V!ҿ^示t!sNLȒrOO'Jf8tP!3ˎtJ$z܇"XM<b>RqԈDBI4,&yǌDIr!Gk#TIȶ."/[2!kЋ\}g!-y7AtHr2}B~ I9'?ӹ^D4Ft"fuF-sar|MIE"}2If&==6G/M#q[Dh9ȄLLrΎ =WDqt;$$^/$1NDk#5dLNu?'"z0z<Yt}ɑ)/%ŹJ79hwМNI8gJDJ?!rc1}6<9D0!ʄ94,IMEv?Hɩ*rQ"&G0"VE~>lc$Tȥ+ЖR<b uAD[$݈[%1"<As,0FbGWA$~r%rɋbI1(N$&qF[[*1ضc2Jm.aĚ:>CC~щwӈI8;DU#ã]p.Gy}hVDV?vEβhA`#B%|x'IwKfrdI^Eatl%QV(<	CEQDD;-h'r=[t:\Dr9K2ML3$d{މ!#ȴZ-]5(DNG=hJ"I,;1'"?}da"i>G!δ=<h!nE:H tqCHFWd:1#$8NZ&9"/y!$|t߂qN}q;%y19	|QaEgDQa0r%"YO|b0]hY"y$&dM)J#\懒.ɜts΅'u?~.2(\xO[Lr\6&2KDEǑ#ȓ;xQ:EuN9asބ0A%I<g~;ֹ|C(I)%!YH*oaгIbd=:^]{%]=], [[M&  MMB LWLMLyLLMLذ&LL­]]
	local by, FQID = ht.byte, GetFileIDFromPath
	for i=1,#hp do lhcPal[i] = by(hp, i) ~= 2 and by(hp, i)/255 or nil end
	setmetatable(lhc, {__index=function(t, k)
		local tk, v, s, r, a, b, c, d, e = type(k)
		c = tk == "string" and FQID(k)
		if c or tk == "number" then
			c = ((c or k) * 65521) % 268435399
		elseif tk == "string" then
			s, c = k:match("[^/\\]*$"):lower():gsub("%.blp$", ""), 8388593
			d = #s
			for i=1,d+1,2 do
				a, b = by(s, i, i+1)
				c = (c * 4093 + (a or d) * 3385162381 + (b or d) * 65521) % 268435399
			end
		end
		if c then
			a = 2*(((c * 20380) % 2147483629) % 3037)
			a, b = by(ht, a+1, a+2)
			v = ((c * (a*256+b) + 20380) % 2147483629) % 19661
			v, r = 6075 + (v - v % 8)*5/8, v % 8
			a, b, c, d, e = by(ht, v, v + 4)
			v = a * 4294967296 + b * 16777216 + c * 65536 + d * 256 + e
			v = ((v - v % 32^r) / 32^r % 32) * 3 - 2
		end
		t[k or false] = lhcPal[v] and v or -3
		return t[k or false]
	end})
end

local Niji, _, T = {_tex=lhc, _palette=lhcPal}, ...
function Niji.GetIconColor(texturePath, r,g,b)
	local li = lhc[texturePath] or -3
	return lhcPal[li] or r, lhcPal[li+1] or g, lhcPal[li+2] or b
end
T.Niji = Niji